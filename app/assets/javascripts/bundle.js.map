{"version":3,"sources":["webpack:///webpack/bootstrap 48cfefe6510ce1ea7001","webpack:///./lib/ratter.js","webpack:///./lib/truck.js"],"names":["document","addEventListener","init","addTrucksandCabs","require","stage","width","height","loader","rat","background","truck","cab","handleComplete","createjs","Shape","graphics","beginBitmapFill","getResult","drawRect","RatSpriteSheet","SpriteSheet","framerate","frames","speed","Sprite","x","y","addChild","window","scurry","Ticker","timingMode","RAF","tick","event","preventDefault","key","gotoAndPlay","update","l","getNumChildren","i","getChildAt","velX","hitTest","console","log","canvas","getElementById","Stage","manifest","src","id","LoadQueue","loadManifest","positions","truckImage","randomVehicle","coinToss","scaleX","randomX","randomLane","includes","push","Math","floor","random","module","exports"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 48cfefe6510ce1ea7001","document.addEventListener('DOMContentLoaded', init);\nconst addTrucksandCabs = require(\"./truck.js\");\n\nlet stage, width, height, loader;\nlet rat, background, truck, cab;\n\nconst handleComplete = () => {\n  // rat = new createjs.Shape();\n  // rat.graphics.beginBitmapFill(loader.getResult(\"rat\")).drawRect(0, 0, 60, 60);\n  background = new createjs.Shape();\n  background.graphics.beginBitmapFill(loader.\n    getResult(\"background\")).\n    drawRect(0, 0, 720, 600);\n\n  // road.y = 260;\n\n\n  const RatSpriteSheet = new createjs.SpriteSheet({\n    framerate: 20,\n    \"images\": [loader.getResult(\"rat\")],\n    \"frames\": {\"regX\": 0, \"height\": 60, \"count\": 16, \"regY\": 0, \"width\": 60},\n    \"animations\": {\n      \"down\": [0, 3, \"standdown\"],\n      \"left\": [4, 7, \"standup\"],\n      \"up\": [8, 11, \"standup\"],\n      \"right\": [12, 15, \"standup\"],\n      \"standup\": {frames: [8, 11], speed: 0.2},\n      \"standdown\": {frames: [0, 3], speed: 0.2},\n    }\n  });\n\n  rat = new createjs.Sprite(RatSpriteSheet, \"up\");\n  rat.x = 250;\n  rat.y = 540;\n\n  stage.addChild(background, rat);\n  addTrucksandCabs(stage, loader);\n\n  window.addEventListener(\"keydown\", scurry);\n\n  createjs.Ticker.timingMode = createjs.Ticker.RAF;\n  createjs.Ticker.addEventListener(\"tick\", tick);\n\n};\n\n\n\nfunction scurry() {\n  event.preventDefault();\n  switch (event.key) {\n  case \"ArrowUp\":\n    rat.gotoAndPlay(\"up\");\n    if(rat.y > 60) rat.y -= 60;\n    return;\n  case \"ArrowRight\":\n    rat.gotoAndPlay(\"right\");\n    if(rat.x <= 700) rat.x += 60;\n    return;\n  case \"ArrowDown\":\n    rat.gotoAndPlay(\"down\");\n    if(rat.y <= 500) rat.y += 60;\n    return;\n  case \"ArrowLeft\":\n    rat.gotoAndPlay(\"left\");\n    if(rat.x >= 60) rat.x -= 60;\n    return;\n  }\n}\n\n\nfunction tick(event) {\n\n  stage.update(event);\n\n  let l = stage.getNumChildren();\n\n\t// iterate through all the children and move them according to their velocity:\n\tfor (var i = 2; i < l; i++) {\n\t\ttruck = stage.getChildAt(i);\n\t\ttruck.x = (truck.x + truck.velX);\n    if (truck.x > 880 ) truck.x = -100;\n    if (truck.x < -100) truck.x = 880;\n    if (truck.hitTest(rat.x, rat.y)){\n        console.log(\"You Lose!\");\n    }\n\t}\n}\n\nfunction init() {\n  const canvas = document.getElementById(\"ratterCanvas\");\n  stage = new createjs.Stage(canvas);\n\n  width = stage.canvas.width;\n  height = stage.canvas.height;\n\n  const manifest = [ {src: \"rat.png\", id: \"rat\"},\n    {src: \"background.png\", id: \"background\"},\n    {src: \"truck.png\", id: \"truck\"},\n    {src: \"cab.png\", id: \"cab\"}\n  ];\n\n  loader = new createjs.LoadQueue(false);\n  loader.addEventListener(\"complete\", handleComplete);\n  loader.loadManifest(manifest, true, \"./app/assets/images/\");\n\n  // const ratData = {\n  //   images: [\"./app/assets/images/rat.png\"],\n  //   frames: {width:500, height:700},\n  //   // animations: {\n  //   //   stand:0,\n  //   //   run:[1,5],\n  //   //   jump:[6,8,\"run\"]\n  //   // }\n  // };\n  // const ratSprite = new createjs.Sprite(ratData, 0);\n\n\n\n  // let circle = new createjs.Shape();\n  // circle.graphics.beginFill(\"DeepSkyBlue\").drawCircle(0, 0, 50);\n  // circle.x = 100;\n  // circle.y = 100;\n  // stage.addChild(circle);\n  stage.update();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ratter.js","function addTrucksandCabs(stage, loader) {\n  let truck;\n  let positions = [];\n\n  for (let i = 0; i < 17; ++i) {\n    const truckImage = randomVehicle(loader);\n    truck = new createjs.Shape();\n    truck.graphics.beginBitmapFill(truckImage).\n    drawRect(0, 0, truckImage.width, truckImage.height);\n\n    if (coinToss() === 0) {\n      truck.y = 310;\n      truck.velX = -2;\n    } else {\n      truck.scaleX = -1;\n      truck.y = 436;\n      truck.velX = 2;\n    }\n    truck.x = randomX();\n    truck.y = randomLane(truck);\n\n    while (positions.includes([truck.x, truck.y])) {\n      truck.x = randomX();\n      truck.y = randomLane(truck);\n    }\n\n    positions.push([truck.x, truck.y]);\n\n    stage.addChild(truck);\n  }\n}\n\nfunction randomLane(truck){\n  return coinToss() === 0 ? truck.y : truck.y + 60\n}\n\nfunction randomX(){\n  return Math.floor(Math.random() * 8) * 100;\n}\n\nfunction randomVehicle(loader) {\n  return (coinToss() === 0) ?\n    loader.getResult(\"truck\") :\n    loader.getResult(\"cab\");\n}\n\nfunction coinToss() {\n  return Math.floor(Math.random() * 2);\n}\n\nmodule.exports = addTrucksandCabs;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/truck.js"],"sourceRoot":""}