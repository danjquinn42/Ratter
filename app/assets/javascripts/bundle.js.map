{"version":3,"sources":["webpack:///webpack/bootstrap 6619b2c154e588b2449c","webpack:///./lib/ratter.js","webpack:///./lib/truck.js","webpack:///./lib/shuffle.js","webpack:///./lib/pedestrian.js","webpack:///./lib/trashCans.js","webpack:///./lib/rat.js","webpack:///./lib/scoreboard.js"],"names":["document","addEventListener","init","addTrucksandCabs","require","pedestrianAdder","addTrashCans","addRat","addScoreBoard","stage","loader","addPedestrians","state","win","scurry","event","createjs","Ticker","paused","_scurry","key","preventDefault","rat","gotoAndPlay","y","score","x","canvas","width","height","startGame","tick","updateStage","alive","fullCans","update","movePedestrians","moveTrucks","ratIsSafe","trucks","forEach","truck","velX","showTrashBonus","adjustScore","removeAllChildren","clear","showFinalScore","console","log","showEndGameState","scoreBoard","ones","tens","hundreds","thousands","pause","showWinScreen","showGameOver","gameOver","Shape","graphics","beginBitmapFill","getResult","drawRect","regX","regY","addChild","trashBonus","removeChild","resume","seconds","milliseconds","window","setTimeout","safe","trashCans","trash","checkRatCollision","currentAnimation","gotoAndStop","scoreDigits","toString","split","map","Number","length","unshift","pedestrians","pedestrian","pathBlocked","stepAside","vel","direction","choosePedestrianAnimation","Math","abs","prefersUp","blocked","obstical","pedestrianLeft","pedestrianRight","pedestrianTop","pedestrianBottom","obsticalLeft","obsticalRight","obsticalTop","obsticalBottom","adjustment","ratLeft","ratRight","ratTop","ratBottom","background","title","timingMode","RAF","handleComplete","start_image","start","getElementById","Stage","manifest","src","id","LoadQueue","loadManifest","shuffle","count","positions","truckPositions","i","push","truckPos","pop","truckImage","randomVehicle","scaleX","randomLane","coinToss","randomX","floor","random","module","exports","arr","j","PedestrianSpriteSheet","SpriteSheet","framerate","xPos","yPos","Sprite","pos","multiplier","TrashSpriteSheet","frames","RatSpriteSheet","speed","ScoreSpriteSheet"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6619b2c154e588b2449c","document.addEventListener('DOMContentLoaded', init);\nconst addTrucksandCabs = require(\"./truck.js\");\nconst pedestrianAdder = require(\"./pedestrian.js\");\nconst addTrashCans = require(\"./trashCans.js\");\nconst addRat = require(\"./rat.js\");\nconst addScoreBoard = require(\"./scoreboard.js\");\n\nlet stage, loader;\nlet addPedestrians;\nlet state;\nlet win = false;\n\nfunction scurry(event) {\n  if (!createjs.Ticker.paused) {\n    _scurry(event);\n  }\n}\n\nfunction _scurry(event) {\n  switch (event.key) {\n  case \"ArrowUp\":\n    event.preventDefault();\n    state.rat.gotoAndPlay(\"up\");\n    if(state.rat.y > 60) {\n      state.rat.y -= 60;\n      state.score += 50;\n    }\n    return;\n  case \"ArrowRight\":\n    event.preventDefault();\n    state.rat.gotoAndPlay(\"right\");\n    if(state.rat.x < stage.canvas.width - 60) state.rat.x += 60;\n    return;\n  case \"ArrowDown\":\n    event.preventDefault();\n    state.rat.gotoAndPlay(\"down\");\n    if(state.rat.y < stage.canvas.height - 60) {\n      state.rat.y += 60;\n      state.score -= 50;\n    }\n    return;\n  case \"ArrowLeft\":\n    event.preventDefault();\n    state.rat.gotoAndPlay(\"left\");\n    if(state.rat.x >= 60) state.rat.x -= 60;\n    return;\n  case \"Space\":\n    startGame();\n  }\n}\n\nfunction tick(event) {\n  if (!event.paused){\n    updateStage(event);\n  }\n}\n\nfunction updateStage(event) {\n  if (state.alive && state.fullCans < 6) {\n    stage.update(event);\n    movePedestrians();\n    moveTrucks();\n    if (ratIsSafe()){\n      state.score += 600;\n      addPedestrians(0);\n      state.trucks.forEach((truck) => {\n        truck.velX *= 1;\n      });\n      state.rat.x = 300;\n      state.rat.y = 540;\n      showTrashBonus();\n    }\n    adjustScore();\n  } else {\n    stage.removeAllChildren();\n    stage.clear();\n    showFinalScore();\n    state = {stage: stage, loader: loader};\n    startGame();\n  }\n}\n\nfunction showFinalScore(){\n  addScoreBoard(state);\n  adjustScore();\n  console.log(state.fullCans);\n  showEndGameState();\n  state.scoreBoard.ones.x -= 155;\n  state.scoreBoard.ones.y += 230;\n  state.scoreBoard.tens.x -= 155;\n  state.scoreBoard.tens.y += 230;\n  state.scoreBoard.hundreds.x -= 155;\n  state.scoreBoard.hundreds.y += 230;\n  state.scoreBoard.thousands.x -= 155;\n  state.scoreBoard.thousands.y += 230;\n  stage.update();\n  pause(2);\n}\n\nfunction showEndGameState(){\n  if (state.fullCans === 6) {\n    showWinScreen();\n  } else {\n    showGameOver();\n  }\n}\n\nfunction showGameOver(){\n  let gameOver = new createjs.Shape();\n  gameOver.graphics.beginBitmapFill(loader.\n    getResult(\"gameover\")).\n    drawRect(0, 0, 218, 33);\n  gameOver.regX = 109;\n  gameOver.regY = 16;\n  gameOver.x = 390;\n  gameOver.y = 200;\n  stage.addChild(gameOver);\n}\n\n\nfunction showWinScreen() {\n  let win = new createjs.Shape();\n  win.graphics.beginBitmapFill(loader.\n    getResult(\"win\")).\n    drawRect(0, 0, 218, 33);\n  win.regX = 109;\n  win.regY = 16;\n  win.x = 390;\n  win.y = 200;\n  stage.addChild(win);\n}\n\nfunction showTrashBonus(){\n  let trashBonus = new createjs.Shape();\n  trashBonus.graphics.beginBitmapFill(loader.\n    getResult(\"trashbonus\")).\n    drawRect(0, 0, 108, 108);\n  trashBonus.regX = 54;\n  trashBonus.regY = 54;\n  trashBonus.x = 390;\n  trashBonus.y = 200;\n  stage.addChild(trashBonus);\n  stage.update();\n  pause(1);\n  stage.removeChild(trashBonus);\n}\n\nfunction resume(){\n  createjs.Ticker.paused = false;\n}\n\nfunction pause(seconds){\n  let milliseconds = seconds * 1000;\n  createjs.Ticker.paused = true;\n  window.setTimeout(resume, milliseconds);\n}\n\nfunction ratIsSafe(){\n  let safe = false;\n  state.trashCans.forEach((trash) => {\n    if (checkRatCollision(trash)) {\n      if (trash.currentAnimation === \"empty\"){\n        trash.gotoAndStop(\"full\");\n        state.fullCans += 1;\n        safe = true;\n      }\n    }\n  });\n  return safe;\n}\n\nfunction adjustScore() {\n  let scoreDigits = state.score.toString().split('').map(Number);\n  while (scoreDigits.length < 4){\n    scoreDigits.unshift(0);\n  }\n  state.scoreBoard.ones.gotoAndStop(scoreDigits[3]);\n  state.scoreBoard.tens.gotoAndStop(scoreDigits[2]);\n  state.scoreBoard.hundreds.gotoAndStop(scoreDigits[1]);\n  state.scoreBoard.thousands.gotoAndStop(scoreDigits[0]);\n}\n\nfunction movePedestrians() {\n  state.pedestrians.forEach((pedestrian) => {\n    if (checkRatCollision(pedestrian)){\n      state.alive = false;\n    }\n    if (pathBlocked(pedestrian)) {\n      stepAside(pedestrian);\n    } else {\n      pedestrian.x += pedestrian.vel;\n      if (pedestrian.vel > 0) {\n        pedestrian.direction = \"right\";\n      } else {\n        pedestrian.direction = \"left\";\n      }\n    }\n    choosePedestrianAnimation(pedestrian);\n    if (pedestrian.x < -30) {\n      pedestrian.x = 810;\n    } else if (pedestrian.x > 810) {\n      pedestrian.x = -30;\n    }\n  });\n}\n\nfunction choosePedestrianAnimation(pedestrian) {\n  if (pedestrian.currentAnimation !== pedestrian.direction) {\n    pedestrian.gotoAndPlay(pedestrian.direction);\n  }\n}\n\nfunction stepAside(pedestrian) {\n  if (pedestrian.y >= 280) {\n    pedestrian.direction = \"up\";\n    pedestrian.y -= Math.abs(pedestrian.vel);\n    pedestrian.prefersUp = true;\n  } else if (pedestrian.y <= 100) {\n    pedestrian.direction = \"down\";\n    pedestrian.y += Math.abs(pedestrian.vel);\n    pedestrian.prefersUp = false;\n  } else {\n    if (pedestrian.prefersUp){\n      pedestrian.direction = \"up\";\n      pedestrian.y -= Math.abs(pedestrian.vel);\n    } else {\n      pedestrian.direction = \"down\";\n      pedestrian.y += Math.abs(pedestrian.vel);\n    }\n  }\n}\n\nfunction pathBlocked(pedestrian){\n  let blocked = false;\n  state.pedestrians.forEach((obstical) => {\n    const pedestrianLeft = pedestrian.x;\n    const pedestrianRight = pedestrian.x + 27;\n    const pedestrianTop = pedestrian.y;\n    const pedestrianBottom = pedestrian.y + 27;\n    const obsticalLeft = obstical.x;\n    const obsticalRight = obstical.x + 27;\n    const obsticalTop = obstical.y;\n    const obsticalBottom = obstical.y + 27;\n    if (pedestrianLeft < obsticalRight &&\n        pedestrianRight > obsticalLeft &&\n        pedestrianTop < obsticalBottom &&\n        pedestrianBottom > obsticalTop &&\n        pedestrian.vel > obstical.vel){\n        blocked = true;\n      }\n    });\n  return blocked;\n}\n\nfunction moveTrucks() {\n  state.trucks.forEach((truck) => {\n\t\ttruck.x = (truck.x + truck.velX);\n    const adjustment = (truck.vel < 0 ? truck.width : 0);\n    if (checkRatCollision(truck, adjustment)){\n      state.alive = false;\n    }\n    if (truck.x > 880 ) truck.x = -100;\n    if (truck.x < -100) truck.x = 880;\n  });\n}\n\nfunction checkRatCollision(obstical, adjustment = 0) {\n  const ratLeft = state.rat.x + 15;\n  const ratRight = state.rat.x + 45;\n  const ratTop = state.rat.y;\n  const ratBottom = state.rat.y + 60;\n\n  const obsticalLeft = obstical.x - adjustment;\n  const obsticalRight = obstical.x + obstical.width - adjustment;\n  const obsticalTop = obstical.y;\n  const obsticalBottom = obstical.y + obstical.height;\n  if (ratLeft < obsticalRight && ratRight > obsticalLeft &&\n      ratTop < obsticalBottom && ratBottom > obsticalTop){\n\n    return true;\n  } else {\n    return false;\n  }\n}\n\nconst startGame = () => {\n  stage.removeAllChildren();\n\n  let width = stage.canvas.width;\n  let height = stage.canvas.height;\n  let background = new createjs.Shape();\n  background.graphics.beginBitmapFill(loader.\n    getResult(\"background\")).\n    drawRect(0, 0, width, height);\n\n  let title = new createjs.Shape();\n  title.graphics.beginBitmapFill(loader.\n    getResult(\"smallTitle\")).\n    drawRect(0, 0, 144, 33);\n  title.x = 140;\n  title.y = 0;\n\n  stage.addChild(background, title);\n\n  state.score = 0;\n  state.alive = true;\n\n  addRat(state);\n  addScoreBoard(state);\n  addTrucksandCabs(state, 14);\n  addPedestrians = pedestrianAdder(state);\n  addPedestrians(5);\n  addTrashCans(state);\n\n  window.addEventListener(\"keydown\", scurry);\n\n  createjs.Ticker.timingMode = createjs.Ticker.RAF;\n  createjs.Ticker.addEventListener(\"tick\", tick);\n}\n\nconst handleComplete = () => {\n  let title = new createjs.Shape();\n  title.graphics.beginBitmapFill(loader.\n    getResult(\"title\")).\n    drawRect(0, 0, 282, 60);\n  title.regX = 141;\n  title.regY = 30;\n  title.x = 390;\n  title.y = 200;\n  let start_image = loader.getResult(\"start\");\n\n  state.fullCans = 0;\n\n  let start = new createjs.Shape();\n  start.graphics.beginBitmapFill(start_image).\n    drawRect(0, 0, 120, 32);\n  start.regX = 60;\n  start.regY = 16;\n  start.x = 390;\n  start.y = 300;\n\n  stage.addChild(title, start);\n  stage.update();\n\n  start.addEventListener(\"click\", startGame);\n};\n\nfunction init() {\n  const canvas = document.getElementById(\"ratterCanvas\");\n  stage = new createjs.Stage(canvas);\n\n  const manifest = [ {src: \"rat.png\", id: \"rat\"},\n    {src: \"background.png\", id: \"background\"},\n    {src: \"truck.png\", id: \"truck\"},\n    {src: \"cab.png\", id: \"cab\"},\n    {src: \"pedestrian.png\", id: \"pedestrian\"},\n    {src: \"numbers.png\", id: \"numbers\"},\n    {src: \"trash.png\", id: \"trash\"},\n    {src: \"title.png\", id: \"title\"},\n    {src: \"smallTitle.png\", id: \"smallTitle\"},\n    {src: \"trashbonus.png\", id: \"trashbonus\"},\n    {src: \"gameover.png\", id: \"gameover\"},\n    {src: \"win.png\", id: \"win\"},\n    {src: \"start.png\", id: \"start\"}\n  ];\n\n  loader = new createjs.LoadQueue(false, null, true);\n  loader.addEventListener(\"complete\", handleComplete);\n  loader.loadManifest(manifest, true, \"./app/assets/images/\");\n\n  state = {stage: stage, loader: loader};\n  stage.update();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ratter.js","const shuffle = require(\"./shuffle.js\");\n\nfunction addTrucksandCabs(state, count) {\n  let {stage, loader} = state;\n  let truck;\n  state.trucks = [];\n  let positions = [];\n\n  let truckPositions = [];\n\n  for (let i = 0; i < 8; ++i) {\n    truckPositions.push([i*110, 310]);\n    truckPositions.push([i*110, 370]);\n    truckPositions.push([i*110, 436]);\n    truckPositions.push([i*110, 496]);\n  }\n\n  shuffle(truckPositions);\n\n  for (let i = 0; i < count; ++i) {\n    const truckPos = truckPositions.pop();\n    const truckImage = randomVehicle(loader);\n    truck = new createjs.Shape();\n    truck.width = truckImage.width;\n    truck.height = truckImage.height;\n    truck.graphics.beginBitmapFill(truckImage).\n      drawRect(0, 0, truck.width, truck.height);\n\n    truck.x = truckPos[0];\n    truck.y = truckPos[1];\n    if (truck.y < 400) {\n      truck.velX = -2;\n    } else {\n      truck.regX = truckImage.width;\n      truck.scaleX = -1;\n      truck.velX = 1.5;\n    }\n    stage.addChild(truck);\n    state.trucks.push(truck);\n  }\n  // return trucks;\n}\n\n\n/////\nfunction randomLane(truck){\n  return coinToss() === 0 ? truck.y : truck.y + 60;\n}\n\nfunction randomX(){\n  return Math.floor(Math.random() * 8) * 100;\n\n}\n\nfunction randomVehicle(loader) {\n  return (coinToss() === 0) ?\n    loader.getResult(\"cab\") :\n    loader.getResult(\"truck\"); //TODO make truck\n}\n\nfunction coinToss() {\n  return Math.floor(Math.random() * 2);\n}\n\n\nmodule.exports = addTrucksandCabs;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/truck.js","function shuffle(arr) {\n    let j, x, i;\n    for (i = arr.length; i; i--) {\n        j = Math.floor(Math.random() * i);\n        x = arr[i - 1];\n        arr[i - 1] = arr[j];\n        arr[j] = x;\n    }\n}\n\nmodule.exports = shuffle;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/shuffle.js","const shuffle = require(\"./shuffle.js\");\n\nlet PedestrianSpriteSheet;\nconst positions = [];\n// let pedestrians = [];\nlet pedestrian;\n\nfunction pedestrianAdder(state) {\n  let {stage, loader} = state;\n  state.pedestrians = [];\n  PedestrianSpriteSheet = new createjs.SpriteSheet({\n    framerate: 20,\n    \"images\": [loader.getResult(\"pedestrian\")],\n    \"frames\": {\"regX\": 0,\n    \"height\": 27,\n    \"count\": 32,\n    \"regY\": 0,\n    \"width\": 27},\n    \"animations\": {\n      \"left\": [0, 7, \"left\"],\n      \"right\": [8, 15],\n      \"down\": [16, 23],\n      \"up\": [24, 31]\n    }\n  });\n\n  for (let xPos = 0; xPos <= 780; xPos += 30){\n    for(let yPos = 100; yPos < 280; yPos +=30 ){\n      positions.push([xPos, yPos]);\n    }\n  }\n\n  shuffle(positions);\n\n    return (count) => { addPedestrians(state, count);};\n}\n\nfunction addPedestrians(state, count){\n  let {stage, loader} = state;\n  for (let i = 0; i < count; ++i){\n    pedestrian = new createjs.Sprite(PedestrianSpriteSheet, \"right\");\n    const pos = positions.pop();\n    stage.addChild(pedestrian);\n    pedestrian.x = pos[0];\n    pedestrian.y = pos[1];\n    pedestrian.regX = 13;\n    pedestrian.width = 10;\n    pedestrian.height = 10;\n    pedestrian.vel = Math.floor(Math.random() * 3) + 1;\n    let multiplier = Math.floor(Math.random() *2);\n    if (multiplier === 0) multiplier = -1;\n    pedestrian.prefersUp = (Math.floor(Math.random() *2) === 0);\n    pedestrian.vel *= multiplier;\n    state.pedestrians.push(pedestrian);\n  }\n}\n\nmodule.exports = pedestrianAdder;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pedestrian.js","function addTrashCans(state) {\n  let {stage, loader} = state;\n  state.trashCans =[];\n  for (let i = 0; i < 6; ++i) {\n    const TrashSpriteSheet = new createjs.SpriteSheet({\n      framerate: 20,\n      \"images\": [loader.getResult(\"trash\")],\n      frames: {\"redX\": 0,\n        \"height\": 60,\n        \"count\": 2,\n        \"regY\": 27,\n        \"width\": 54\n      },\n      \"animations\": {\n        \"full\": [0],\n        \"empty\": [1]\n      }\n    });\n\n    let trash = new createjs.Sprite(TrashSpriteSheet, \"empty\");\n    trash.width = 54;\n    trash.height = 60;\n    trash.x = 120 * i + 64;\n    trash.y = 60;\n    stage.addChild(trash);\n\n    state.trashCans.push(trash);\n  }\n  // return trashCans;\n}\n\n\nmodule.exports = addTrashCans;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/trashCans.js","function addRat(state) {\n  let {stage, loader} = state;\n  const RatSpriteSheet = new createjs.SpriteSheet({\n    framerate: 20,\n    \"images\": [loader.getResult(\"rat\")],\n    \"frames\": {\"regX\": 0, \"height\": 60, \"count\": 16, \"regY\": 0, \"width\": 60},\n    \"animations\": {\n      \"down\": [0, 3, \"standdown\"],\n      \"left\": [4, 7, \"standup\"],\n      \"up\": [8, 11, \"standup\"],\n      \"right\": [12, 15, \"standup\"],\n      \"standup\": {frames: [8, 11], speed: 0.2},\n      \"standdown\": {frames: [0, 3], speed: 0.2},\n    }\n  });\n\n\n  state.rat = new createjs.Sprite(RatSpriteSheet, \"up\");\n  state.rat.x = 300;\n  state.rat.y = 540;\n\n  stage.addChild(state.rat);\n}\n\n\nmodule.exports = addRat;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/rat.js","function addScoreBoard(state) {\n  let {stage, loader} = state;\n  const ScoreSpriteSheet = new createjs.SpriteSheet({\n    framerate: 20,\n    \"images\": [loader.getResult(\"numbers\")],\n    \"frames\": {\"regX\": 0, \"height\": 33, \"count\": 10, \"regY\": 0, \"width\": 24},\n    \"animations\": {\n      \"0\": [0], \"1\": [1], \"2\": [2], \"3\": [3], \"4\": [4],\n       \"5\": [5], \"6\": [6], \"7\": [7], \"8\": [8], \"9\": [9]\n    }\n  });\n\n  state.scoreBoard = { ones: {}, tens: {}, hundreds: {}, thousands: {} };\n\n  state.scoreBoard.ones = new createjs.Sprite(ScoreSpriteSheet);\n  state.scoreBoard.ones.x = 572;\n  state.scoreBoard.tens = new createjs.Sprite(ScoreSpriteSheet);\n  state.scoreBoard.tens.x = 548;\n  state.scoreBoard.hundreds = new createjs.Sprite(ScoreSpriteSheet);\n  state.scoreBoard.hundreds.x = 524;\n  state.scoreBoard.thousands = new createjs.Sprite(ScoreSpriteSheet);\n  state.scoreBoard.thousands.x = 500;\n\n  stage.addChild(state.scoreBoard.ones, state.scoreBoard.tens, state.scoreBoard.hundreds, state.scoreBoard.thousands);\n\n}\n\n\nmodule.exports = addScoreBoard;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/scoreboard.js"],"sourceRoot":""}