{"version":3,"sources":["webpack:///webpack/bootstrap aa74ec51f401330a7a91","webpack:///./lib/ratter.js","webpack:///./lib/truck.js","webpack:///./lib/shuffle.js","webpack:///./lib/pedestrian.js","webpack:///./lib/trashCans.js"],"names":["document","addEventListener","init","addTrucksandCabs","require","addPedestrians","addTrashCans","stage","width","height","loader","rat","background","trashCans","trucks","score","alive","count","pedestrians","firstChildren","scoreBoard","handleComplete","createjs","Shape","graphics","beginBitmapFill","getResult","drawRect","RatSpriteSheet","SpriteSheet","framerate","frames","speed","Sprite","x","y","ScoreSpriteSheet","ones","tens","hundreds","thousands","addChild","window","scurry","Ticker","timingMode","RAF","tick","event","preventDefault","key","gotoAndPlay","sort","a","b","update","movePedestrians","moveTrucks","ratIsSafe","forEach","truck","vel","adjustScore","safe","trash","checkRatCollision","currentAnimation","gotoAndStop","console","log","scoreDigits","toString","split","map","Number","length","unshift","i","pedestrian","getChildAt","pathBlocked","stepAside","direction","choosePedestrianAnimation","Math","abs","prefersUp","blocked","obstical","offset","pedestrianLeft","pedestrianRight","pedestrianTop","pedestrianBottom","obsticalLeft","obsticalRight","obsticalTop","obsticalBottom","velX","adjustment","ratLeft","ratRight","ratTop","ratBottom","canvas","getElementById","Stage","manifest","src","id","LoadQueue","loadManifest","shuffle","truckCount","positions","truckPositions","push","truckPos","pop","truckImage","randomVehicle","regX","scaleX","randomLane","coinToss","randomX","floor","random","module","exports","arr","j","PedestrianSpriteSheet","first","_initializePedestrians","_addNewPedestrians","pos","idx","setChildIndex","multiplier","xPos","yPos","TrashSpriteSheet"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aa74ec51f401330a7a91","document.addEventListener('DOMContentLoaded', init);\nconst addTrucksandCabs = require(\"./truck.js\");\nconst addPedestrians = require(\"./pedestrian.js\");\nconst addTrashCans = require(\"./trashCans.js\");\n\nlet stage, width, height, loader;\nlet rat, background, trashCans, trucks;\nlet score, alive;\nlet count = { trucks: 0, pedestrians: 0, firstChildren: 0 };\nlet scoreBoard = {};\n\nconst handleComplete = () => {\n\nwidth = 780;\nheight = 600;\nbackground = new createjs.Shape();\nbackground.graphics.beginBitmapFill(loader.\n  getResult(\"background\")).\n  drawRect(0, 0, width, height);\n\n\n  const RatSpriteSheet = new createjs.SpriteSheet({\n    framerate: 20,\n    \"images\": [loader.getResult(\"rat\")],\n    \"frames\": {\"regX\": 0, \"height\": 60, \"count\": 16, \"regY\": 0, \"width\": 60},\n    \"animations\": {\n      \"down\": [0, 3, \"standdown\"],\n      \"left\": [4, 7, \"standup\"],\n      \"up\": [8, 11, \"standup\"],\n      \"right\": [12, 15, \"standup\"],\n      \"standup\": {frames: [8, 11], speed: 0.2},\n      \"standdown\": {frames: [0, 3], speed: 0.2},\n    }\n  });\n\n\n  rat = new createjs.Sprite(RatSpriteSheet, \"up\");\n  rat.x = 300;\n  rat.y = 540;\n\n  const ScoreSpriteSheet = new createjs.SpriteSheet({\n    framerate: 20,\n    \"images\": [loader.getResult(\"numbers\")],\n    \"frames\": {\"regX\": 0, \"height\": 33, \"count\": 10, \"regY\": 0, \"width\": 24},\n    \"animations\": {\n      \"0\": [0], \"1\": [1], \"2\": [2], \"3\": [3], \"4\": [4],\n       \"5\": [5], \"6\": [6], \"7\": [7], \"8\": [8], \"9\": [9]\n    }\n  });\n\n  scoreBoard = { ones: {}, tens: {}, hundreds: {}, thousands: {} };\n\n  scoreBoard.ones = new createjs.Sprite(ScoreSpriteSheet);\n  scoreBoard.ones.x = 572;\n  scoreBoard.tens = new createjs.Sprite(ScoreSpriteSheet);\n  scoreBoard.tens.x = 548;\n  scoreBoard.hundreds = new createjs.Sprite(ScoreSpriteSheet);\n  scoreBoard.hundreds.x = 524;\n  scoreBoard.thousands = new createjs.Sprite(ScoreSpriteSheet);\n  scoreBoard.thousands.x = 500;\n\n  stage.addChild(background, rat);\n  count.firstChildren = 2;\n  trucks = addTrucksandCabs(stage, loader, count.trucks);\n  addPedestrians(stage, loader, count);\n  trashCans = addTrashCans(stage, loader);\n  stage.addChild(scoreBoard.ones, scoreBoard.tens, scoreBoard.hundreds, scoreBoard.thousands);\n\n\n  window.addEventListener(\"keydown\", scurry);\n\n  createjs.Ticker.timingMode = createjs.Ticker.RAF;\n  createjs.Ticker.addEventListener(\"tick\", tick);\n\n};\n\nfunction scurry() {\n  event.preventDefault();\n  switch (event.key) {\n  case \"ArrowUp\":\n    rat.gotoAndPlay(\"up\");\n    if(rat.y > 60) {\n      rat.y -= 60;\n      score += 50;\n    }\n    return;\n  case \"ArrowRight\":\n    rat.gotoAndPlay(\"right\");\n    if(rat.x < width - 60) rat.x += 60;\n    return;\n  case \"ArrowDown\":\n    rat.gotoAndPlay(\"down\");\n    if(rat.y < height - 60) {\n      rat.y += 60;\n      score -= 50;\n    }\n    return;\n  case \"ArrowLeft\":\n    rat.gotoAndPlay(\"left\");\n    if(rat.x >= 60) rat.x -= 60;\n    return;\n  }\n}\n\nfunction sort(a, b) {\n  if (a > b) return 1;\n  if (a === b) return 0;\n  if (a < b) return -1;\n}\n\n\nfunction tick(event) {\n  if (alive) {\n    stage.update(event);\n    movePedestrians();\n    moveTrucks();\n    if (ratIsSafe()){\n      score += 600;\n      addPedestrians(stage, loader, count, false);\n      count.pedestrians += 3;\n      trucks.forEach((truck) => {\n        truck.vel += 0.5;\n      });\n      rat.x = 300;\n      rat.y = 540;\n    }\n    adjustScore();\n  }\n}\n\nfunction ratIsSafe(){\n  let safe = false;\n  trashCans.forEach((trash) => {\n    if (checkRatCollision(trash)) {\n      if (trash.currentAnimation === \"empty\"){\n        trash.gotoAndStop(\"full\");\n        safe = true;\n      }\n    }\n  });\n  return safe;\n}\n\nfunction adjustScore() {\n  console.log(score);\n  let scoreDigits = score.toString().split('').map(Number);\n  while (scoreDigits.length < 4){\n    scoreDigits.unshift(0);\n  }\n  console.log(score);\n  scoreBoard.ones.gotoAndStop(scoreDigits[3]);\n  scoreBoard.tens.gotoAndStop(scoreDigits[2]);\n  scoreBoard.hundreds.gotoAndStop(scoreDigits[1]);\n  scoreBoard.thousands.gotoAndStop(scoreDigits[0]);\n}\n\nfunction movePedestrians() {\n  for (let i = count.trucks + count.firstChildren;\n    i < count.trucks + count.pedestrians + count.firstChildren;\n    ++i){\n    let pedestrian = stage.getChildAt(i);\n    if (checkRatCollision(pedestrian)){\n      alive = false;\n    }\n    if (pathBlocked(pedestrian)) {\n      stepAside(pedestrian);\n    } else {\n      pedestrian.x += pedestrian.vel;\n      if (pedestrian.vel > 0) {\n        pedestrian.direction = \"right\";\n      } else {\n        pedestrian.direction = \"left\";\n      }\n    }\n    choosePedestrianAnimation(pedestrian);\n    if (pedestrian.x < -30) {\n      pedestrian.x = 810;\n    } else if (pedestrian.x > 810) {\n      pedestrian.x = -30;\n    }\n  }\n}\n\nfunction choosePedestrianAnimation(pedestrian) {\n  if (pedestrian.currentAnimation !== pedestrian.direction) {\n    pedestrian.gotoAndPlay(pedestrian.direction);\n  }\n}\n\nfunction stepAside(pedestrian) {\n  if (pedestrian.y >= 280) {\n    pedestrian.direction = \"up\";\n    pedestrian.y -= Math.abs(pedestrian.vel);\n    pedestrian.prefersUp = true;\n  } else if (pedestrian.y <= 100) {\n    pedestrian.direction = \"down\";\n    pedestrian.y += Math.abs(pedestrian.vel);\n    pedestrian.prefersUp = false;\n  } else {\n    if (pedestrian.prefersUp){\n      pedestrian.direction = \"up\";\n      pedestrian.y -= Math.abs(pedestrian.vel);\n    } else {\n      pedestrian.direction = \"down\";\n      pedestrian.y += Math.abs(pedestrian.vel);\n    }\n  }\n}\n\nfunction pathBlocked(pedestrian){\n  let blocked = false;\n  for (let i = count.trucks + count.firstChildren;\n     i < count.trucks + count.pedestrians + count.firstChildren;\n      ++i){\n    let obstical = stage.getChildAt(i);\n    const offset = (pedestrian.vel > 0) ? 30 : -30;\n    const pedestrianLeft = pedestrian.x + offset;\n    const pedestrianRight = pedestrian.x + 27 + offset;\n    const pedestrianTop = pedestrian.y;\n    const pedestrianBottom = pedestrian.y + 27;\n    const obsticalLeft = obstical.x;\n    const obsticalRight = obstical.x + 27;\n    const obsticalTop = obstical.y;\n    const obsticalBottom = obstical.y + 27;\n    if (pedestrianLeft < obsticalRight &&\n        pedestrianRight > obsticalLeft &&\n        pedestrianTop < obsticalBottom &&\n        pedestrianBottom > obsticalTop &&\n        pedestrian.vel > obstical.vel){\n        blocked = true;\n    }\n  }\n  return blocked;\n}\n\nfunction moveTrucks() {\n  for (let i = count.firstChildren; i < count.trucks + count.firstChildren; ++i) {\n\t\tlet truck = stage.getChildAt(i);\n\t\ttruck.x = (truck.x + truck.velX);\n    const adjustment = (truck.vel < 0 ? truck.width : 0);\n    if (checkRatCollision(truck, adjustment)){\n      alive = false;\n    }\n    if (truck.x > 880 ) truck.x = -100;\n    if (truck.x < -100) truck.x = 880;\n\t}\n}\n\nfunction checkRatCollision(obstical, adjustment = 0) {\n  const ratLeft = rat.x + 15;\n  const ratRight = rat.x + 45;\n  const ratTop = rat.y;\n  const ratBottom = rat.y + 60;\n\n  const obsticalLeft = obstical.x - adjustment;\n  const obsticalRight = obstical.x + obstical.width - adjustment;\n  const obsticalTop = obstical.y;\n  const obsticalBottom = obstical.y + obstical.height;\n  if (ratLeft < obsticalRight && ratRight > obsticalLeft &&\n      ratTop < obsticalBottom && ratBottom > obsticalTop){\n\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction init() {\n  const canvas = document.getElementById(\"ratterCanvas\");\n  stage = new createjs.Stage(canvas);\n  score = 0;\n  alive = true;\n  count.trucks = 10;\n  count.pedestrians = 5;\n\n  width = stage.canvas.width;\n  height = stage.canvas.height;\n\n  const manifest = [ {src: \"rat.png\", id: \"rat\"},\n    {src: \"background.png\", id: \"background\"},\n    {src: \"truck.png\", id: \"truck\"},\n    {src: \"cab.png\", id: \"cab\"},\n    {src: \"pedestrian.png\", id: \"pedestrian\"},\n    {src: \"numbers.png\", id: \"numbers\"},\n    {src: \"trash.png\", id: \"trash\"}\n  ];\n\n  loader = new createjs.LoadQueue(false);\n  loader.addEventListener(\"complete\", handleComplete);\n  loader.loadManifest(manifest, true, \"./app/assets/images/\");\n\n\n  stage.update();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ratter.js","const shuffle = require(\"./shuffle.js\");\n\nfunction addTrucksandCabs(stage, loader, truckCount) {\n  let truck;\n  let trucks = [];\n  let positions = [];\n\n  let truckPositions = [];\n\n  for (let i = 0; i < 8; ++i) {\n    truckPositions.push([i*110, 310]);\n    truckPositions.push([i*110, 370]);\n    truckPositions.push([i*110, 436]);\n    truckPositions.push([i*110, 496]);\n  }\n\n  shuffle(truckPositions);\n\n  for (let i = 0; i < truckCount; ++i) {\n    const truckPos = truckPositions.pop();\n    const truckImage = randomVehicle(loader);\n    truck = new createjs.Shape();\n    truck.width = truckImage.width;\n    truck.height = truckImage.height;\n    truck.graphics.beginBitmapFill(truckImage).\n      drawRect(0, 0, truck.width, truck.height);\n\n    truck.x = truckPos[0];\n    truck.y = truckPos[1];\n    if (truck.y < 400) {\n      truck.velX = -2;\n    } else {\n      truck.regX = truckImage.width;\n      truck.scaleX = -1;\n      truck.velX = 2;\n    }\n    stage.addChild(truck);\n    trucks.push(truck);\n  }\n  return trucks;\n}\n\n\n/////\nfunction randomLane(truck){\n  return coinToss() === 0 ? truck.y : truck.y + 60;\n}\n\nfunction randomX(){\n  return Math.floor(Math.random() * 8) * 100;\n\n}\n\nfunction randomVehicle(loader) {\n  return (coinToss() === 0) ?\n    loader.getResult(\"cab\") :\n    loader.getResult(\"truck\"); //TODO make truck\n}\n\nfunction coinToss() {\n  return Math.floor(Math.random() * 2);\n}\n\n\nmodule.exports = addTrucksandCabs;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/truck.js","function shuffle(arr) {\n    let j, x, i;\n    for (i = arr.length; i; i--) {\n        j = Math.floor(Math.random() * i);\n        x = arr[i - 1];\n        arr[i - 1] = arr[j];\n        arr[j] = x;\n    }\n}\n\nmodule.exports = shuffle;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/shuffle.js","const shuffle = require(\"./shuffle.js\");\n\nlet PedestrianSpriteSheet;\nconst positions = [];\nlet pedestrian;\n\nfunction addPedestrians(stage, loader, count, first = true) {\n  PedestrianSpriteSheet = new createjs.SpriteSheet({\n    framerate: 20,\n    \"images\": [loader.getResult(\"pedestrian\")],\n    \"frames\": {\"regX\": 0,\n    \"height\": 27,\n    \"count\": 32,\n    \"regY\": 0,\n    \"width\": 27},\n    \"animations\": {\n      \"left\": [0, 7, \"left\"],\n      \"right\": [8, 15],\n      \"down\": [16, 23],\n      \"up\": [24, 31]\n    }\n  });\n\n  if (first) {\n    _initializePedestrians(stage, loader, count);\n  } else {\n    _addNewPedestrians(stage, loader, count);\n  }\n}\n\nfunction _addNewPedestrians(stage, loader, count){\n  for (let i = 0; i < 3; ++i){\n    pedestrian = new createjs.Sprite(PedestrianSpriteSheet, \"right\");\n    const pos = positions.pop();\n    stage.addChild(pedestrian);\n    const idx = count.firstChildren + count.trucks + count.pedestrians + i;\n    stage.setChildIndex(pedestrian, idx);\n    pedestrian.x = pos[0];\n    pedestrian.y = pos[1];\n    pedestrian.regX = 13;\n    pedestrian.width = 10;\n    pedestrian.height = 10;\n    pedestrian.vel = Math.floor(Math.random() * 3) + 1;\n    let multiplier = Math.floor(Math.random() *2);\n    if (multiplier === 0) multiplier = -1;\n    pedestrian.prefersUp = (Math.floor(Math.random() *2) === 0);\n    pedestrian.vel *= multiplier;\n  }\n}\n\nfunction _initializePedestrians(stage, loader, count){\n  for (let xPos = 0; xPos <= 780; xPos += 30){\n    for(let yPos = 100; yPos < 280; yPos +=30 ){\n      positions.push([xPos, yPos]);\n    }\n  }\n\n  shuffle(positions);\n\n  for (let i = 0; i < count.pedestrians; ++i){\n    pedestrian = new createjs.Sprite(PedestrianSpriteSheet, \"right\");\n    const pos = positions.pop();\n    stage.addChild(pedestrian);\n    pedestrian.x = pos[0];\n    pedestrian.y = pos[1];\n    pedestrian.regX = 13;\n    pedestrian.width = 10;\n    pedestrian.height = 10;\n    pedestrian.vel = Math.floor(Math.random() * 3) + 1;\n    let multiplier = Math.floor(Math.random() *2);\n    if (multiplier === 0) multiplier = -1;\n    pedestrian.prefersUp = (Math.floor(Math.random() *2) === 0);\n    pedestrian.vel *= multiplier;\n  }\n}\n\nmodule.exports = addPedestrians;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pedestrian.js","function addTrashCans(stage, loader) {\n  const trashCans =[]\n  for (let i = 0; i < 6; ++i) {\n    const TrashSpriteSheet = new createjs.SpriteSheet({\n      framerate: 20,\n      \"images\": [loader.getResult(\"trash\")],\n      frames: {\"redX\": 0,\n        \"height\": 60,\n        \"count\": 2,\n        \"regY\": 27,\n        \"width\": 54\n      },\n      \"animations\": {\n        \"full\": [0],\n        \"empty\": [1]\n      }\n    });\n\n    let trash = new createjs.Sprite(TrashSpriteSheet, \"empty\");\n    trash.width = 54;\n    trash.height = 60;\n    trash.x = 120 * i + 64;\n    trash.y = 60;\n    stage.addChild(trash);\n\n    trashCans.push(trash);\n  }\n  return trashCans;\n}\n\n\nmodule.exports = addTrashCans;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/trashCans.js"],"sourceRoot":""}